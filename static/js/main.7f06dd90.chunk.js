(this.webpackJsonpeasyquiz=this.webpackJsonpeasyquiz||[]).push([[0],{293:function(e,a,t){e.exports=t(488)},298:function(e,a,t){},299:function(e,a,t){},310:function(e,a,t){},315:function(e,a,t){},316:function(e,a,t){},488:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(15),l=t.n(r),i=(t(298),t(11)),o=t(13),s=(t(299),t(46)),m=t.n(s);t(306),t(307),t(308),t(309);m.a.initializeApp({apiKey:"AIzaSyCZFwloShafJTrIKdZ_VmyF0yj5nbzrV3w",authDomain:"easyquiz-64933.firebaseapp.com",databaseURL:"https://easyquiz-64933.firebaseio.com",projectId:"easyquiz-64933",storageBucket:"easyquiz-64933.appspot.com",messagingSenderId:"761641181277",appId:"1:761641181277:web:8883b63a274020ecad6db4",measurementId:"G-9HF6TH260R"});var u=m.a.auth(),d=m.a.firestore(),p=(m.a.storage(),u),h=t(18),g=t(25),f=(t(310),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container-fluid",style:{padding:"0px"}},c.a.createElement("nav",{className:"navbar navbar-light navbar-expand-sm",id:"nav_main"},c.a.createElement("div",{className:"container-fluid row"},c.a.createElement(h.c,{className:"nav-link",to:"/"},c.a.createElement("p",null,"Home")),c.a.createElement(h.c,{to:"/about"},c.a.createElement("p",null,"V\u1ec1 ch\xfang t\xf4i")),u.currentUser?c.a.createElement(c.a.Fragment,null,c.a.createElement(h.c,{className:"nav-link",to:"/dashboard"},c.a.createElement("p",null,"Qu\u1ea3n l\xfd")),c.a.createElement(h.c,{className:"nav-link",to:"/profile"},c.a.createElement("p",null,"Th\xf4ng tin c\xe1 nh\xe2n")),c.a.createElement(h.c,{className:"nav-link",to:"/",onClick:function(){u.signOut()}},c.a.createElement("p",null,"\u0110\u0103ng xu\u1ea5t"))):c.a.createElement(c.a.Fragment,null,c.a.createElement(h.c,{className:"nav-link",to:"/login"},c.a.createElement("p",null,"\u0110\u0103ng nh\u1eadp")),c.a.createElement(h.c,{className:"nav-link",to:"/signup"},c.a.createElement("p",null,"\u0110\u0103ng k\xfd")))))))}),b=(t(315),function(){return c.a.createElement("div",null,c.a.createElement("head",null,c.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),c.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"}),c.a.createElement("script",{src:"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"}),c.a.createElement("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"}),c.a.createElement("script",{src:"https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"}),c.a.createElement("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.7.0/css/all.css",integrity:"sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ",crossorigin:"anonymous"}),c.a.createElement("link",{href:"https://emoji-css.afeld.me/emoji.css",rel:"stylesheet"})),c.a.createElement("div",{className:"container-fluid",style:{padding:"0px"}},c.a.createElement("footer",null,c.a.createElement("div",{className:"row text-center text-md-left pr-3"},c.a.createElement("div",{className:"item contact container"},c.a.createElement("div",{style:{position:"absolute",top:"50%",left:"45%"}},c.a.createElement("a",{className:"fb-ic",href:"https://www.facebook.com/zang2301"},c.a.createElement("i",{className:"fab fa-facebook-f fa-2x"}," ")),c.a.createElement("a",{className:"li-ic",href:"https://www.linkedin.com/in/giang-bui-huong-5949b8121/"},c.a.createElement("i",{className:"fab fa-linkedin-in fa-2x"}," ")),c.a.createElement("a",{className:"git-ic",href:"https://github.com/huonggiangbui"},c.a.createElement("i",{className:"fab fa-github fa-2x"}," "))))),c.a.createElement("div",{className:"footer-copyright text-center"},"@ Copyright by Giang Bui Huong. All rights reserved. Various Trademarks held by their respective owners."))))}),E=(t(316),function(e){var a=e.user;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{class:"container-fluid",style:{padding:"0px"}},c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row",style:{height:"450px",margin:"30px 0px"}},c.a.createElement("div",{className:"col-sm-6 container"},c.a.createElement("h2",{style:{color:"#447cfc"}},"Easy Quiz"),c.a.createElement("p",{style:{top:"13%"}}," Ph\u1ea7n m\u1ec1m qu\u1ea3n l\xfd, x\xe2y d\u1ef1ng v\xe0 th\u1ef1c h\xe0nh b\xe0i thi tr\u1eafc nghi\u1ec7m."),c.a.createElement(h.b,{to:a?"/dashboard":"/login"},c.a.createElement("button",{className:"bottomRight"},"B\u1eaft \u0111\u1ea7u ",c.a.createElement("i",{className:"fas fa-arrow-right"})))),c.a.createElement("div",{className:"col-sm-6 container demo1"}))),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row",style:{height:"450px",margin:"30px 0px"}},c.a.createElement("div",{className:"col-sm-6 container demo2"}),c.a.createElement("div",{className:"col-sm-6 container"},c.a.createElement("h2",{style:{color:"#447CFC",top:"3%",right:"25%"}}," V\u1ec1 d\u1ef1 \xe1n"),c.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),c.a.createElement("p",{className:"font-weight-bold",style:{top:"70%"}},"M\u1ee5c ti\xeau d\u1ef1 \xe1n"),c.a.createElement("p",{style:{top:"80%"}},"Some text"),c.a.createElement("p",{style:{top:"85%"}},"Some text")))),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row",style:{height:"300px",margin:"30px 0px"}},c.a.createElement("div",{className:"col-sm-6 container"},c.a.createElement("h2",{style:{color:"#447CFC"}},"T\xednh n\u0103ng n\u1ed5i b\u1eadt"),c.a.createElement("p",{style:{top:"24%"}},c.a.createElement("i",{className:"fas fa-caret-right"})," D\u1ec5 d\xe0ng x\xe2y d\u1ef1ng v\xe0 qu\u1ea3n l\xfd b\xe0i t\u1eadp tr\u1eafc nghi\u1ec7m"),c.a.createElement("p",{style:{top:"35%"}},c.a.createElement("i",{className:"fas fa-caret-right"})," D\u1ec5 d\xe0ng tr\xedch xu\u1ea5t v\xe0 ph\xe2n t\xedch k\u1ebft qu\u1ea3 b\xe0i t\u1eadp")),c.a.createElement("div",{className:"col-sm-6 container demo3"}))))))}),v=t(20),j=t(526),x=t(490),y=t(542),O=t(532),k=t(527),w=t(521),I=t(524),C=Object(w.a)((function(e){return{root:{width:"200%"},header:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(5)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"200%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},button:{marginTop:e.spacing(3),marginRight:e.spacing(1)}}}));function N(){var e=C(),a=Object(n.useReducer)((function(e,a){return Object(i.a)(Object(i.a)({},e),a)}),{name:"",email:"",message:""}),t=Object(o.a)(a,2),r=t[0],l=t[1],s=function(e){var a=e.target,t=a.name,n=a.value;l(Object(v.a)({},t,n))};return c.a.createElement(I.a,{component:"main",maxWidth:"xs"},c.a.createElement(j.a,null),c.a.createElement("div",{className:e.paper},c.a.createElement("div",{className:e.header},c.a.createElement(x.a,{component:"h1",variant:"h5"},"V\u1ec1 EasyQuiz")),c.a.createElement("div",{className:e.root},c.a.createElement(k.a,{container:!0,spacing:2},c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(x.a,{variant:"subtitle1"},"EasyQuiz l\xe0 g\xec"),c.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.")),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(x.a,{variant:"subtitle1"},"C\xe2u chuy\u1ec7n c\u1ee7a ch\xfang t\xf4i"),c.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.")),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(x.a,{variant:"subtitle1"},"Gi\xe1 tr\u1ecb c\u1ee7a d\u1ef1 \xe1n"),c.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.")),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(x.a,{variant:"subtitle1"},"M\u1ee5c ti\xeau c\u1ee7a ch\xfang t\xf4i"),c.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.")))),c.a.createElement("div",{className:e.header},c.a.createElement(x.a,{component:"h1",variant:"h5"},"Li\xean h\u1ec7 v\u1edbi ch\xfang t\xf4i")),c.a.createElement("form",{className:e.form,noValidate:!0},c.a.createElement(k.a,{container:!0,spacing:2},c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,name:"name",label:"H\u1ecd v\xe0 t\xean",id:"name",autoComplete:"name",value:r.name,onChange:function(e){return s(e)}})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"\u0110\u1ecba ch\u1ec9 Email",name:"email",autoComplete:"email",value:r.email,onChange:function(e){return s(e)}})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{id:"outlined-multiline-static",label:"L\u1eddi nh\u1eafn",name:"message",multiline:!0,required:!0,fullWidth:!0,rows:5,variant:"outlined",value:r.message,onChange:function(e){return s(e)}})))),c.a.createElement("div",null,c.a.createElement(O.a,{variant:"contained",color:"primary",className:e.button,onClick:function(){return console.log(r)}},"G\u1eecI"))))}var S=t(544),D=t(140),T=t.n(D),q=t(541),A=t(537),L=Object(w.a)((function(e){return{header:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(5)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},button:{marginTop:e.spacing(3),marginRight:e.spacing(1)}}}));function W(e){return c.a.createElement(A.a,Object.assign({elevation:6,variant:"filled"},e))}function B(){var e=L(),a=Object(n.useState)(""),t=Object(o.a)(a,2),r=t[0],l=t[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),m=s[0],u=s[1],d=Object(g.f)(),h=c.a.useState(!1),f=Object(o.a)(h,2),b=f[0],E=f[1],v=function(e,a){"clickaway"!==a&&E(!1)};return c.a.createElement(I.a,{component:"main",maxWidth:"xs"},c.a.createElement(j.a,null),c.a.createElement("div",{className:e.paper},c.a.createElement("div",{className:e.header},c.a.createElement(S.a,{className:e.avatar},c.a.createElement(T.a,null)),c.a.createElement(x.a,{component:"h1",variant:"h5"},"\u0110\u0103ng nh\u1eadp")),c.a.createElement("form",{className:e.form,noValidate:!0},c.a.createElement(k.a,{container:!0,spacing:2},c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"\u0110\u1ecba ch\u1ec9 Email",name:"email",autoComplete:"email",value:r,onChange:function(e){return l(e.target.value)}})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"M\u1eadt kh\u1ea9u",type:"password",id:"password",autoComplete:"current-password",value:m,onChange:function(e){return u(e.target.value)}})))),c.a.createElement("div",null,c.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){p.signInWithEmailAndPassword(r,m).then((function(){d.push("/")})).catch((function(e){console.log(e),E(!0)}))},className:e.button},"\u0110\u0103ng nh\u1eadp")),c.a.createElement("div",null,c.a.createElement(q.a,{open:b,autoHideDuration:6e3,onClose:v},c.a.createElement(W,{onClose:v,severity:"error"},"Vui l\xf2ng xem l\u1ea1i th\xf4ng tin \u0111\u0103ng nh\u1eadp.")))))}var V=t(43),F=t.n(V),z=t(63),M=t(543),P=t(545),H=t(530),R=t(536),G=t(110),Q=Object(w.a)((function(e){return{root:{width:"150%"},header:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(6)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},completed:{display:"inline-block"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},content:{marginTop:e.spacing(5),marginBottom:e.spacing(5),display:"flex",alignItems:"center"},button:{marginTop:e.spacing(3),marginRight:e.spacing(1)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}}));function U(e){return c.a.createElement(A.a,Object.assign({elevation:6,variant:"filled"},e))}function K(){var e,a=Q(),t=Object(g.f)(),r=[],l=Object(n.useState)([]),s=Object(o.a)(l,2),p=s[0],h=s[1],f=Object(n.useState)(),b=Object(o.a)(f,2),E=b[0],w=b[1],C=Object(n.useState)([]),N=Object(o.a)(C,2),D=N[0],A=N[1],L=Object(n.useState)([]),W=Object(o.a)(L,2),B=W[0],V=W[1],K=Object(n.useState)([]),J=Object(o.a)(K,2),$=J[0],Z=J[1];Object(n.useEffect)((function(){try{d.collection("schools").get().then((function(e){V(e.docs.map((function(e){return Object(i.a)(Object(i.a)({},e.data()),{},{schoolId:e.id,label:e.data().schoolName,value:e.data().schoolName})})))})),d.collection("classes").get().then((function(e){h(e.docs.map((function(e){return Object(i.a)(Object(i.a)({},e.data()),{},{classId:e.id,label:e.data().className,value:e.data().className})})))}))}catch(e){console.log(e)}}),[]);var _=c.a.useState(!1),X=Object(o.a)(_,2),Y=X[0],ee=X[1],ae=function(e,a){"clickaway"!==a&&ee(!1)},te=Object(n.useReducer)((function(e,a){return Object(i.a)(Object(i.a)({},e),a)}),{email:"",password:"",phone:null,name:"",role:"",address:""}),ne=Object(o.a)(te,2),ce=ne[0],re=ne[1],le=function(e){var a=e.target,t=a.name,n=a.value;re(Object(v.a)({},t,n)),"subject"===t&&re(Object(i.a)(Object(i.a)({},ce),{},{subject:n}))},ie=function(e){Z(e);var a=[];B.includes(e)&&e.classId.forEach((function(e){p.forEach((function(t){t.classId===e&&a.push(t)}))})),w(a)},oe=function(){var a=Object(z.a)(F.a.mark((function a(){var n,c,l,i;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c=[],l=0;case 2:if(!(l<D.length)){a.next=18;break}if(E.includes(D[l])&&0!==E.length){a.next=14;break}return a.prev=4,a.next=7,d.collection("classes").add({className:D[l].value,testId:[]}).then((function(e){r.push(e.id),c.push(e.id)}));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(4),console.log("Error while saving class"+a.t0.message);case 12:a.next=15;break;case 14:r.push(D[l].classId);case 15:l++,a.next=2;break;case 18:if(B.includes($)){a.next=29;break}return a.prev=19,a.next=22,d.collection("schools").add({schoolName:$.value,classId:r}).then((function(a){e=a.id}));case 22:a.next=27;break;case 24:a.prev=24,a.t1=a.catch(19),console.log("Error while saving school"+a.t1.message);case 27:a.next=39;break;case 29:if(a.prev=29,!(c.length>0)){a.next=33;break}return a.next=33,d.collection("schools").doc($.schoolId).update({classId:(i=m.a.firestore.FieldValue).arrayUnion.apply(i,c)});case 33:e=$.schoolId,a.next=39;break;case 36:a.prev=36,a.t2=a.catch(29),console.log("Error while saving school"+a.t2.message);case 39:return a.next=41,d.doc("/users/".concat(ce.email)).get().then((function(){return u.createUserWithEmailAndPassword(ce.email,ce.password)})).then((function(e){n=e.user.uid})).then(Object(z.a)(F.a.mark((function a(){var c;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={name:ce.name,phone:ce.phone,email:ce.email,role:ce.role,address:ce.address,class:r,school:e},a.next=3,d.doc("/users/".concat(n)).set(c);case 3:t.push("/");case 4:case"end":return a.stop()}}),a)})))).catch((function(e){return console.error(e),e.code,ee(!0)}));case 41:case"end":return a.stop()}}),a,null,[[4,9],[19,24],[29,36]])})));return function(){return a.apply(this,arguments)}}();return c.a.createElement(I.a,{component:"main",maxWidth:"xs"},c.a.createElement(j.a,null),c.a.createElement("div",{className:a.paper},c.a.createElement("div",{className:a.header},c.a.createElement(S.a,{className:a.avatar},c.a.createElement(T.a,null)),c.a.createElement(x.a,{component:"h1",variant:"h5"},"\u0110\u0103ng k\xfd")),c.a.createElement("div",{className:a.root},c.a.createElement("form",{className:a.form,noValidate:!0},c.a.createElement(k.a,{container:!0,spacing:2},c.a.createElement(k.a,{item:!0,xs:12,sm:6},c.a.createElement(y.a,{autoComplete:"fname",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"H\u1ecd v\xe0 t\xean",autoFocus:!0,value:ce.name,onChange:function(e){return le(e)}})),c.a.createElement(k.a,{item:!0,xs:12,sm:6},c.a.createElement(H.a,{className:a.formControl},c.a.createElement(M.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"B\u1ea1n l\xe0"),c.a.createElement(R.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",name:"role",value:ce.role,onChange:function(e){return le(e)},displayEmpty:!0,className:a.selectEmpty,fullWidth:!0},c.a.createElement(P.a,{value:"teacher"},"Gi\xe1o vi\xean"),c.a.createElement(P.a,{value:"student"},"H\u1ecdc sinh")))),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"phone",autoComplete:"phone",value:ce.phone,onChange:function(e){return le(e)}})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"address",label:"\u0110\u1ecba ch\u1ec9",name:"address",autoComplete:"address",value:ce.address,onChange:function(e){return le(e)}})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",value:ce.email,onChange:function(e){return le(e)}})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"M\u1eadt kh\u1ea9u",type:"password",id:"password",autoComplete:"current-password",value:ce.password,onChange:function(e){return le(e)}})),"teacher"===ce.role?c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(H.a,{className:a.formControl},c.a.createElement(M.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"M\xf4n h\u1ecdc"),c.a.createElement(R.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",name:"subject",value:ce.subject,onChange:function(e){return le(e)},displayEmpty:!0,className:a.selectEmpty},c.a.createElement(P.a,{value:"math"},"To\xe1n h\u1ecdc"),c.a.createElement(P.a,{value:"literature"},"V\u0103n h\u1ecdc/Ti\u1ebfng Vi\u1ec7t")))),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(x.a,{variant:"subtitle1"},"Tr\u01b0\u1eddng h\u1ecdc"),c.a.createElement(G.a,{isClearable:!0,onChange:ie,options:B})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(x.a,{variant:"subtitle1"},"L\u1edbp gi\u1ea3ng d\u1ea1y"),c.a.createElement(G.a,{isMulti:!0,onChange:function(e){A(e)},options:E}))):null,"student"===ce.role?c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(x.a,{variant:"subtitle1"},"Tr\u01b0\u1eddng h\u1ecdc"),c.a.createElement(G.a,{isClearable:!0,onChange:ie,options:B})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(x.a,{variant:"subtitle1"},"L\u1edbp theo h\u1ecdc"),c.a.createElement(G.a,{isClearable:!0,onChange:function(e){A([e])},options:E}))):null)),c.a.createElement("div",null,c.a.createElement(O.a,{variant:"contained",color:"primary",onClick:oe,className:a.button},"G\u1eedi")),c.a.createElement("div",null,c.a.createElement(q.a,{open:Y,autoHideDuration:6e3,onClose:ae},c.a.createElement(U,{onClose:ae,severity:"error"},"\u0110\xe3 x\u1ea3y ra l\u1ed7i. Vui l\xf2ng xem l\u1ea1i th\xf4ng tin \u0111\u0103ng k\xfd."))))))}var J=t(258),$=t.n(J),Z=t(531),_=Object(w.a)((function(e){return{root:{flexGrow:1},header:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(3)},paper:{padding:e.spacing(4),textAlign:"center",color:e.palette.text.secondary}}}));function X(e){var a=e.filterTestId,t=e.testSubject,r=_(),l=Object(n.useState)([]),s=Object(o.a)(l,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){try{d.collection("tests").get().then((function(e){u(e.docs.filter((function(e){return e.data().subject===t&&a.includes(e.id)})).map((function(e){return Object(i.a)(Object(i.a)({},e.data()),{},{testId:e.id})})))}))}catch(e){console.log(e)}}),[]),c.a.createElement("div",{className:r.root,style:{marginTop:60}},c.a.createElement("div",{className:r.header},0!==m.length?null:c.a.createElement("div",{className:r.header},c.a.createElement(x.a,{component:"h1",variant:"h5"},"Kh\xf4ng c\xf3 b\xe0i ki\u1ec3m tra n\xe0o cho m\xf4n h\u1ecdc n\xe0y"))),c.a.createElement(k.a,{container:!0,spacing:3},m.map((function(e){return c.a.createElement(k.a,{item:!0,xs:!0},c.a.createElement(h.b,{to:"/test/".concat(e.testId)},c.a.createElement(Z.a,{className:r.paper},e.title)))}))))}var Y=Object(w.a)((function(e){return{root:{flexGrow:1},header:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(3)},paper:{padding:e.spacing(4),textAlign:"center",color:e.palette.text.secondary}}}));function ee(e){var a=e.classId,t=Y(),r=Object(n.useState)(""),l=Object(o.a)(r,2),i=l[0],s=l[1],m=Object(n.useState)([]),u=Object(o.a)(m,2),p=u[0],g=u[1];return Object(n.useEffect)((function(){try{d.collection("classes").doc(a[0]).get().then((function(e){g(e.data().testId)}))}catch(e){console.log(e)}}),[a]),c.a.createElement("div",{className:t.root,style:{marginTop:60}},c.a.createElement("div",{className:t.header},c.a.createElement(x.a,{component:"h1",variant:"h5"},i?"Ch\u1ecdn b\xe0i ki\u1ec3m tra":"Ch\u1ecdn m\xf4n h\u1ecdc")),i?c.a.createElement(X,{filterTestId:p,testSubject:i}):c.a.createElement(k.a,{container:!0,spacing:3},c.a.createElement(k.a,{item:!0,xs:!0},c.a.createElement(h.b,{onClick:function(){return s("Mathematics")}},c.a.createElement(Z.a,{className:t.paper},"To\xe1n h\u1ecdc"))),c.a.createElement(k.a,{item:!0,xs:!0},c.a.createElement(h.b,{onClick:function(){return s("Literature")}},c.a.createElement(Z.a,{className:t.paper},"V\u0103n h\u1ecdc")))))}var ae=Object(w.a)((function(e){return{root:{flexGrow:1},header:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(3)},paper:{padding:e.spacing(4),textAlign:"center",color:e.palette.text.secondary}}}));function te(){var e=ae(),a=Object(n.useState)([]),t=Object(o.a)(a,2),r=t[0],l=t[1];return Object(n.useEffect)((function(){try{d.collection("tests").get().then((function(e){l(e.docs.filter((function(e){return e.data().ownerId===u.currentUser.uid})).map((function(e){return Object(i.a)(Object(i.a)({},e.data()),{},{testId:e.id})})))}))}catch(e){console.log(e)}}),[]),c.a.createElement("div",{className:e.root,style:{marginTop:60}},0!==r.length?null:c.a.createElement("div",{className:e.header},c.a.createElement(x.a,{component:"h1",variant:"h5"},"B\u1ea1n ch\u01b0a t\u1ea1o b\xe0i ki\u1ec3m tra n\xe0o")),c.a.createElement(k.a,{container:!0,spacing:3},r.map((function(a){return c.a.createElement(k.a,{item:!0,xs:!0},c.a.createElement(h.b,{to:"/test/".concat(a.testId)},c.a.createElement(Z.a,{className:e.paper},a.title)))}))))}var ne=Object(w.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(4),textAlign:"center",color:e.palette.text.secondary},header:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(3)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}}));function ce(e){var a=e.userData,t=ne(),n=a.role;return c.a.createElement("div",{className:t.root},c.a.createElement(j.a,null),c.a.createElement("div",{className:t.header},c.a.createElement(S.a,{className:t.avatar},c.a.createElement($.a,null)),c.a.createElement(x.a,{component:"h1",variant:"h5"},"Qu\u1ea3n l\xfd b\xe0i ki\u1ec3m tra")),c.a.createElement("div",{style:{padding:30}},"teacher"===n?c.a.createElement("div",null,c.a.createElement(k.a,{container:!0,spacing:3},c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(h.b,{to:"/createTest"},c.a.createElement(Z.a,{className:t.paper},"Th\xeam b\xe0i ki\u1ec3m tra"))),c.a.createElement(te,null))):c.a.createElement(ee,{classId:a.class})))}var re=t(65),le=t(9),ie=t(150),oe=t(533),se=t(534),me=t(539),ue=t(538),de=t(91),pe=Object(w.a)((function(e){return{root:{width:"150%"},header:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(3)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},question:{marginTop:e.spacing(5)}}})),he=Object(le.a)({root:{color:ie.a[400],"&$checked":{color:ie.a[600]}},checked:{}})((function(e){return c.a.createElement(me.a,Object.assign({color:"default"},e))})),ge=Object(le.a)({root:{color:ie.a[400],"&$checked":{color:ie.a[600]}},checked:{}})((function(e){return c.a.createElement(ue.a,Object.assign({color:"default"},e))}));function fe(e){var a=e.onChange,t=e.numOfQuestion,r=pe();Object(n.useEffect)((function(){var e=[];!function(){for(var a=1;a<=t;a++)e.push({id:a,title:"",type:"",answer:{choiceA:"",choiceB:"",choiceC:"",choiceD:""},correctAnswer:"",point:""})}(),p(e)}),[]);var l=[{label:"Ch\u1ecdn m\u1ed9t \u0111\xe1p \xe1n \u0111\xfang",value:"radio"},{label:"Ch\u1ecdn nhi\u1ec1u \u0111\xe1p \xe1n \u0111\xfang",value:"checkbox"}],s=[{label:"0.1",value:"0.1"},{label:"0.2",value:"0.2"},{label:"0.25",value:"0.25"},{label:"0.5",value:"0.5"},{label:"1",value:"1"}],m=Object(n.useState)([]),u=Object(o.a)(m,2),d=u[0],p=u[1],h=c.a.useState({choiceA:!1,choiceB:!1,choiceC:!1,choiceD:!1}),g=Object(o.a)(h,2),f=g[0],b=g[1],E=function(e){var t=e.target,n=t.name,c=t.value,r=t.id,l=d.findIndex((function(e){return e.id==r})),o=Object(re.a)(d);o[l]=Object(i.a)(Object(i.a)({},o[l]),{},Object(v.a)({},n,c)),p(o),a(o)},O=function(e){var t=e.target,n=t.name,c=t.value,r=t.id,l=d.findIndex((function(e){return e.id==r})),o=Object(re.a)(d);o[l].answer=Object(i.a)(Object(i.a)({},o[l].answer),{},Object(v.a)({},n,c)),p(o),a(o)},w=function(e){b(Object(i.a)(Object(i.a)({},f),{},Object(v.a)({},e.target.name,e.target.checked)))},C=function(e){var t=e.target,n=t.value,c=t.id,r=d.findIndex((function(e){return e.id==c})),l=Object(re.a)(d);l[r]=Object(i.a)(Object(i.a)({},l[r]),{},{correctAnswer:n}),p(l),a(l)},N=function(e){var t=d.findIndex((function(a){return a.id==e.questionId})),n=Object(re.a)(d);null!==e.newValue?n[t]=Object(i.a)(Object(i.a)({},n[t]),{},{type:e.newValue.value}):n[t]=Object(i.a)(Object(i.a)({},n[t]),{},{type:null}),p(n),a(n)},S=function(e){var t=d.findIndex((function(a){return a.id==e.questionId})),n=Object(re.a)(d);null!==e.newValue?n[t]=Object(i.a)(Object(i.a)({},n[t]),{},{point:e.newValue.value}):n[t]=Object(i.a)(Object(i.a)({},n[t]),{},{point:null}),p(n),a(n)};return c.a.createElement(I.a,{component:"main",maxWidth:"xs"},c.a.createElement(j.a,null),c.a.createElement("div",{className:r.paper},c.a.createElement("div",{className:r.header},c.a.createElement(x.a,{component:"h1",variant:"h5"},"Th\xf4ng tin c\xe2u h\u1ecfi")),c.a.createElement("div",{className:r.root},c.a.createElement("form",{className:r.form,noValidate:!0},d.map((function(e){var a,t,n,i,o=e.id;return c.a.createElement(k.a,{container:!0,spacing:2,className:r.question},c.a.createElement(x.a,{variant:"subtitle1"},"C\xe2u h\u1ecfi ".concat(o)),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{id:o,label:"C\xe2u h\u1ecfi",name:"title",multiline:!0,required:!0,fullWidth:!0,rows:4,variant:"outlined",value:e.title,onChange:function(e){return E(e)}})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(x.a,{variant:"subtitle1"},"D\u1ea1ng c\xe2u h\u1ecfi"),c.a.createElement(de.a,{name:"type",isClearable:!0,options:l,onChange:function(e){return N({questionId:o,newValue:e})},className:"basic-multi-select",classNamePrefix:"select"})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(x.a,{variant:"subtitle1"},"\u0110i\u1ec3m c\u1ee7a c\xe2u h\u1ecfi"),c.a.createElement(de.a,{name:"point",isClearable:!0,options:s,onChange:function(e){return S({questionId:o,newValue:e})},className:"basic-multi-select",classNamePrefix:"select"})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(oe.a,{column:!0},c.a.createElement(se.a,{fullWidth:!0,control:"checkbox"===e.type?c.a.createElement(he,{checked:f.choiceA,onChange:w,name:"choiceA"}):c.a.createElement(ge,{value:"choiceA",id:o,onChange:C,checked:"choiceA"===e.correctAnswer}),label:c.a.createElement(y.a,(a={required:!0,id:o,name:"choiceA"},Object(v.a)(a,"required",!0),Object(v.a)(a,"fullWidth",!0),Object(v.a)(a,"onChange",(function(e){return O(e)})),a))}),c.a.createElement(se.a,{control:"checkbox"===e.type?c.a.createElement(he,{checked:f.choiceB,onChange:w,name:"choiceB"}):c.a.createElement(ge,{value:"choiceB",id:o,onChange:C,checked:"choiceB"===e.correctAnswer}),label:c.a.createElement(y.a,(t={required:!0,id:o,name:"choiceB"},Object(v.a)(t,"required",!0),Object(v.a)(t,"fullWidth",!0),Object(v.a)(t,"onChange",(function(e){return O(e)})),t))}),c.a.createElement(se.a,{control:"checkbox"===e.type?c.a.createElement(he,{checked:f.choiceC,onChange:w,name:"choiceC"}):c.a.createElement(ge,{value:"choiceC",id:o,onChange:C,checked:"choiceC"===e.correctAnswer}),label:c.a.createElement(y.a,(n={required:!0,id:o,name:"choiceC"},Object(v.a)(n,"required",!0),Object(v.a)(n,"fullWidth",!0),Object(v.a)(n,"onChange",(function(e){return O(e)})),n))}),c.a.createElement(se.a,{control:"checkbox"===e.type?c.a.createElement(he,{checked:f.choiceD,onChange:w,name:"choiceD"}):c.a.createElement(ge,{value:"choiceD",id:o,onChange:C,checked:"choiceD"===e.correctAnswer}),label:c.a.createElement(y.a,(i={required:!0,id:o,name:"choiceD"},Object(v.a)(i,"required",!0),Object(v.a)(i,"fullWidth",!0),Object(v.a)(i,"onChange",(function(e){return O(e)})),i))}))))}))))))}var be=t(259),Ee=t.n(be),ve=Object(w.a)((function(e){return{root:{width:"150%"},header:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(6)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},completed:{display:"inline-block"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},content:{marginTop:e.spacing(5),marginBottom:e.spacing(5),display:"flex",alignItems:"center"},button:{marginRight:e.spacing(1)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},questionForm:{"& > * + *":{marginTop:e.spacing(2)}}}}));function je(e){return c.a.createElement(A.a,Object.assign({elevation:6,variant:"filled"},e))}var xe=[];function ye(e){var a=e.userData,t=ve(),r=Object(g.f)(),l=Object(n.useState)(),s=Object(o.a)(l,2),u=s[0],p=s[1],h=Object(n.useState)([]),f=Object(o.a)(h,2),b=f[0],E=f[1];Object(n.useEffect)((function(){try{d.collection("classes").get().then((function(e){E(e.docs.filter((function(e){return a.class.includes(e.id)})).map((function(e){return Object(i.a)(Object(i.a)({},e.data()),{},{label:e.data().className,value:e.id})})))}))}catch(e){console.log(e)}}),[]);var w=c.a.useState(!1),C=Object(o.a)(w,2),N=C[0],D=C[1],T=function(e,a){"clickaway"!==a&&D(!1)},A=Object(n.useReducer)((function(e,a){return Object(i.a)(Object(i.a)({},e),a)}),{title:"",description:"",classId:[],data:[],time:"",result:[]}),L=Object(o.a)(A,2),W=L[0],B=L[1],V=function(e){var a=e.target,t=a.name,n=a.value;B(Object(v.a)({},t,n))},M=function(){var e=Object(z.a)(F.a.mark((function e(){var t,n,c,l;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=0,c=0;c<W.data.length;c++)l=parseInt(W.data[c].point),n+=l;return e.prev=2,e.next=5,d.collection("tests").add(Object(i.a)(Object(i.a)({},W),{},{ownerId:a.userId,schoolId:a.school[0],subject:a.subject,status:"created",totalPoint:n})).then((function(e){t=e.id}));case 5:W.classId.forEach(function(){var e=Object(z.a)(F.a.mark((function e(a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.collection("classes").doc(a).update({testId:m.a.firestore.FieldValue.arrayUnion(t)});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),r.push("/dashboard"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Error while creating test"+e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(I.a,{component:"main",maxWidth:"xs"},c.a.createElement(j.a,null),c.a.createElement("div",{className:t.paper},c.a.createElement("div",{className:t.header},c.a.createElement(S.a,{className:t.avatar},c.a.createElement(Ee.a,null)),c.a.createElement(x.a,{component:"h1",variant:"h5"},"T\u1ea1o b\xe0i ki\u1ec3m tra m\u1edbi")),c.a.createElement("div",{className:t.root},c.a.createElement("form",{className:t.form,noValidate:!0},c.a.createElement(k.a,{container:!0,spacing:2},c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{name:"title",variant:"outlined",required:!0,fullWidth:!0,id:"title",label:"Ti\xeau \u0111\u1ec1 b\xe0i ki\u1ec3m tra",autoFocus:!0,value:W.title,onChange:function(e){return V(e)}})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(x.a,{variant:"subtitle1"},"L\u1edbp s\u1eed d\u1ee5ng b\xe0i ki\u1ec3m tra"),c.a.createElement(de.a,{isMulti:!0,name:"classes",options:b,onChange:function(e){B(null!==e?Object(i.a)(Object(i.a)({},W),{},{classId:e.map((function(e){return e.value}))}):Object(i.a)(Object(i.a)({},W),{},{classId:[]}))},className:"basic-multi-select",classNamePrefix:"select"})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{id:"outlined-multiline-static",label:"M\xf4 t\u1ea3 b\xe0i ki\u1ec3m tra",name:"description",multiline:!0,required:!0,fullWidth:!0,rows:5,placeholder:"Nh\u1eadp m\xf4 t\u1ea3/h\u01b0\u1edbng d\u1eabn v\u1ec1 b\xe0i ki\u1ec3m tra t\u1ea1i \u0111\xe2y.",variant:"outlined",value:W.description,onChange:function(e){return V(e)}})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(y.a,{name:"time",variant:"outlined",required:!0,fullWidth:!0,id:"time",label:"Th\u1eddi gian l\xe0m b\xe0i (t\xednh theo ph\xfat)",autoFocus:!0,value:W.time,onChange:function(e){return V(e)}})),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(x.a,{variant:"subtitle1"},"S\u1ed1 c\xe2u h\u1ecfi"),c.a.createElement(de.a,{name:"numOfQuestion",isClearable:!0,options:xe,onChange:function(e){p(null!==e?e.value:null)},className:"basic-multi-select",classNamePrefix:"select"})),u?c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(fe,{onChange:function(e){B({data:e})},numOfQuestion:u})):null)),c.a.createElement("div",null,c.a.createElement(O.a,{variant:"contained",color:"primary",onClick:M,className:t.button},"T\u1ea1o b\xe0i ki\u1ec3m tra")),c.a.createElement("div",null,c.a.createElement(q.a,{open:N,autoHideDuration:6e3,onClose:T},c.a.createElement(je,{onClose:T,severity:"error"},"\u0110\xe3 x\u1ea3y ra l\u1ed7i. H\xe3y xem l\u1ea1i th\xf4ng tin b\xe0i ki\u1ec3m tra."))))))}!function(){for(var e=1;e<=50;e++)xe.push({label:"".concat(e),value:e})}();var Oe=Object(w.a)((function(e){return{root:{width:"200%"},header:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(5)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"200%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},button:{marginTop:e.spacing(3),marginRight:e.spacing(1)}}}));function ke(e){var a=e.userData,t=Oe(),r=Object(n.useState)({}),l=Object(o.a)(r,2),s=l[0],m=l[1],u=Object(g.g)().testId;return Object(n.useEffect)((function(){d.collection("tests").doc(u).get().then((function(e){return e.exists?m((function(){return Object(i.a)(Object(i.a)({},e.data()),{},{testId:e.id})})):alert("No test with this ID")}))}),[u]),c.a.createElement(I.a,{component:"main",maxWidth:"xs"},c.a.createElement(j.a,null),c.a.createElement("div",{className:t.paper},c.a.createElement("div",{className:t.header},c.a.createElement(x.a,{component:"h1",variant:"h5"},s.title)),c.a.createElement("div",{className:t.root},c.a.createElement(k.a,{container:!0,spacing:2},c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement("p",null,s.description)))),c.a.createElement("div",null,c.a.createElement(h.b,{to:"/test/".concat(s.testId,"/taking")},c.a.createElement(O.a,{variant:"contained",color:"primary",className:t.button},"teacher"===a.role?"K\xedch ho\u1ea1t":"B\u1eaft \u0111\u1ea7u")),c.a.createElement(h.b,{to:"/test/".concat(s.testId,"/result")},c.a.createElement(O.a,{variant:"contained",color:"white",className:t.button},"Xem k\u1ebft qu\u1ea3")))))}var we=Object(w.a)((function(e){return{root:{width:"150%"},header:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(3)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},question:{marginTop:e.spacing(5)}}})),Ie=Object(le.a)({root:{color:ie.a[400],"&$checked":{color:ie.a[600]}},checked:{}})((function(e){return c.a.createElement(me.a,Object.assign({color:"default"},e))})),Ce=Object(le.a)({root:{color:ie.a[400],"&$checked":{color:ie.a[600]}},checked:{}})((function(e){return c.a.createElement(ue.a,Object.assign({color:"default"},e))}));function Ne(e){var a=e.userData,t=we(),r=Object(g.f)(),l=Object(n.useState)({}),s=Object(o.a)(l,2),p=s[0],h=s[1],f=Object(g.g)().testId;Object(n.useEffect)((function(){d.collection("tests").doc(f).get().then((function(e){return e.exists?(C(e.data().data.length),h(e.data())):alert("No test with this ID")}))}),[f]);var b=Object(n.useState)([]),E=Object(o.a)(b,2),y=E[0],w=E[1],C=function(e){for(var a=[],t=1;t<=e;t++)a.push({id:t,studentChoice:""});return w(a)},N=c.a.useState({choiceA:!1,choiceB:!1,choiceC:!1,choiceD:!1}),S=Object(o.a)(N,2),D=S[0],T=S[1],q=function(e){T(Object(i.a)(Object(i.a)({},D),{},Object(v.a)({},e.target.name,e.target.checked)))},A=function(e){var a=e.target,t=a.value,n=a.id,c=y.findIndex((function(e){return e.id==n})),r=Object(re.a)(y);r[c]=Object(i.a)(Object(i.a)({},r[c]),{},{studentChoice:t}),w(r)},L=function(){var e=Object(z.a)(F.a.mark((function e(){var t,n,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t=0,n=0;n<p.data.length;n++)c=parseInt(p.data[n].point),p.data[n].correctAnswer===y[n].studentChoice&&(t+=c);return e.next=5,d.collection("tests").doc(f).update({result:m.a.firestore.FieldValue.arrayUnion({userId:u.currentUser.uid,name:a.name,classId:a.class[0],point:t,data:y})});case 5:r.push("/test/".concat(f)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error while taking test"+e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(I.a,{component:"main",maxWidth:"xs"},c.a.createElement(j.a,null),p&&p.data?c.a.createElement("div",{className:t.paper},c.a.createElement("div",{className:t.header},c.a.createElement(x.a,{component:"h1",variant:"h5"},p.title)),c.a.createElement("div",{className:t.root},c.a.createElement("form",{className:t.form,noValidate:!0},p.data.map((function(e){var a=e.id;return c.a.createElement(k.a,{container:!0,spacing:2,className:t.question},c.a.createElement(x.a,{variant:"subtitle1"},"".concat(e.title)),c.a.createElement(k.a,{item:!0,xs:12},c.a.createElement(oe.a,{column:!0},c.a.createElement(se.a,{fullWidth:!0,control:"checkbox"===e.type?c.a.createElement(Ie,{checked:D.choiceA,onChange:q,name:"choiceA"}):c.a.createElement(Ce,{value:"choiceA",id:a,onChange:A}),label:e.answer.choiceA}),c.a.createElement(se.a,{control:"checkbox"===e.type?c.a.createElement(Ie,{checked:D.choiceB,onChange:q,name:"choiceB"}):c.a.createElement(Ce,{value:"choiceB",id:a,onChange:A}),label:e.answer.choiceB}),c.a.createElement(se.a,{control:"checkbox"===e.type?c.a.createElement(Ie,{checked:D.choiceC,onChange:q,name:"choiceC"}):c.a.createElement(Ce,{value:"choiceC",id:a,onChange:A}),label:e.answer.choiceC}),c.a.createElement(se.a,{control:"checkbox"===e.type?c.a.createElement(Ie,{checked:D.choiceD,onChange:q,name:"choiceD"}):c.a.createElement(Ce,{value:"choiceD",id:a,onChange:A}),label:e.answer.choiceD}))))})))),c.a.createElement("div",null,c.a.createElement(O.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){return L()}},"N\u1ed9p b\xe0i"))):null)}var Se=t(535),De=(t(318),Se.a.Column),Te=Se.a.HeaderCell,qe=Se.a.Cell,Ae=Se.a.Pagination,Le=Object(w.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(4),textAlign:"center",color:e.palette.text.secondary}}}));function We(){var e=Object(n.useState)(0),a=Object(o.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)([]),s=Object(o.a)(l,2),m=s[0],u=s[1],p=Object(n.useState)([]),f=Object(o.a)(p,2),b=f[0],E=f[1],v=Object(n.useState)(),j=Object(o.a)(v,2),x=j[0],y=j[1],O=Object(n.useState)(10),w=Object(o.a)(O,2),I=w[0],C=w[1],N=Object(n.useState)(1),S=Object(o.a)(N,2),D=S[0],T=S[1],q=Object(n.useState)(),A=Object(o.a)(q,2),L=A[0],W=A[1],B=Object(n.useState)(),V=Object(o.a)(B,2),F=V[0],z=V[1],M=Object(n.useState)(),P=Object(o.a)(M,2),H=P[0],R=P[1],G=Le(),Q=Object(g.g)().testId;return Object(n.useEffect)((function(){d.collection("tests").doc(Q).get().then((function(e){if(!e.exists)return alert("No test with this ID");u(e.data().result),r(e.data().totalPoint)})),d.collection("classes").get().then((function(e){E(e.docs.filter((function(e){return e.data().testId.includes(Q)})).map((function(e){return Object(i.a)(Object(i.a)({},e.data()),{},{classId:e.id})})))}))}),[Q,x]),c.a.createElement("div",{className:"container"},x?c.a.createElement(c.a.Fragment,null,c.a.createElement(Se.a,{height:500,autoHeight:!0,wordWrap:!0,data:function(e){var a=e.filter((function(e,a){var t=I*(D-1);return a>=t&&a<t+I}));return F&&H?a.sort((function(e,a){var t=e[F],n=a[F];return"string"===typeof t&&(t=t.charCodeAt()),"string"===typeof n&&(n=n.charCodeAt()),"asc"===H?t-n:n-t})):a}(m),sortColumn:F,sortType:H,onSortColumn:function(e,a){W(!0),setTimeout((function(){z(e),R(a),W(!1)}),500)},loading:L},c.a.createElement(De,{width:200,align:"justify",fixed:!0},c.a.createElement(Te,{style:{color:"black",fontSize:"medium",fontWeight:"600"}},"T\xean h\u1ecdc sinh"),c.a.createElement(qe,{dataKey:"name"})),c.a.createElement(De,{width:200,align:"justify"},c.a.createElement(Te,{style:{color:"black",fontSize:"medium",fontWeight:"600"}},"\u0110i\u1ec3m/".concat(t)),c.a.createElement(qe,{dataKey:"point"}))),c.a.createElement("div",{className:"footer"},c.a.createElement(Ae,{lengthMenu:[{value:10,label:10},{value:20,label:20},{value:50,label:50},{value:100,label:100}],activePage:D,displayLength:I,total:m.length,onChangePage:function(e){T(e)},onChangeLength:function(e){T(1),C(e)}}))):c.a.createElement("div",{className:G.root,style:{marginTop:60}},c.a.createElement(k.a,{container:!0,spacing:3},b.map((function(e){return c.a.createElement(k.a,{item:!0,xs:!0},c.a.createElement(h.b,{onClick:function(){m.filter((function(a){return a.classId===e.classId})),y(e.classId)}},c.a.createElement(Z.a,{className:G.paper},e.className)))})))))}function Be(){var e=Object(n.useState)(null),a=Object(o.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)({}),s=Object(o.a)(l,2),m=s[0],p=s[1];Object(n.useEffect)((function(){v()}),[t]);var v=function(){u.onAuthStateChanged((function(e){e?d.collection("users").doc(e.uid).get().then((function(a){if(!a.exists)return r(null);r(e),p(Object(i.a)(Object(i.a)({},a.data()),{},{userId:e.uid}))})):r(null)}))};return c.a.createElement(h.a,{basename:"/EasyQuiz"},c.a.createElement(g.a,null,c.a.createElement(f,null),c.a.createElement(g.c,null,c.a.createElement(g.a,{exact:!0,path:"/"},c.a.createElement(E,{user:t})),c.a.createElement(g.a,{exact:!0,path:"/about",component:N}),t?c.a.createElement(g.a,null,c.a.createElement(g.a,{exact:!0,path:"/dashboard"},c.a.createElement(ce,{userData:m})),c.a.createElement(g.a,{exact:!0,path:"/test/:testId"},c.a.createElement(ke,{userData:m})),"teacher"===m.role?c.a.createElement(g.a,null,c.a.createElement(g.a,{exact:!0,path:"/createTest"},c.a.createElement(ye,{userData:m})),c.a.createElement(g.a,{exact:!0,path:"/test/:testId/result",component:We})):c.a.createElement(g.a,null,c.a.createElement(g.a,{exact:!0,path:"/test/:testId/taking"},c.a.createElement(Ne,{userData:m})))):c.a.createElement(g.a,null,c.a.createElement(g.a,{exact:!0,path:"/login",component:B}),c.a.createElement(g.a,{exact:!0,path:"/signup",component:K}))),c.a.createElement(b,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[293,1,2]]]);
//# sourceMappingURL=main.7f06dd90.chunk.js.map